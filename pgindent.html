<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>pgindent</title>
        <link rel="stylesheet" href="https://alexey-n-chernyshov.github.io/blog/theme/css/main.css" />
        <link href="https://alexey-n-chernyshov.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Alexey Chernyshov's blog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://alexey-n-chernyshov.github.io/blog/">Alexey Chernyshov's blog </a></h1>
                <nav><ul>
                    <li><a href="https://alexey-n-chernyshov.github.io/blog/pages/about.html">About</a></li>
                    <li><a href="https://alexey-n-chernyshov.github.io/blog/category/misc.html">misc</a></li>
                    <li class="active"><a href="https://alexey-n-chernyshov.github.io/blog/category/postgresql.html">PostgreSQL</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://alexey-n-chernyshov.github.io/blog/pgindent.html" rel="bookmark"
           title="Permalink to pgindent">pgindent</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-06-30T11:00:00+03:00">
                Published: 2017-06-30
        </abbr>
		<br />
        <abbr class="modified" title="2017-07-21T16:00:00+03:00">
                Updated: 2017-07-21
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://alexey-n-chernyshov.github.io/blog/author/alexey-chernyshov.html">Alexey Chernyshov</a>
        </address>
<p>In <a href="https://alexey-n-chernyshov.github.io/blog/category/postgresql.html">PostgreSQL</a>.</p>
<p>tags: <a href="https://alexey-n-chernyshov.github.io/blog/tag/postgresql.html">PostgreSQL</a> </p>
</footer><!-- /.post-info -->      <p>The PostgreSQL code has really confusing indents. For the help for programmers,
there is a tool named pgindent located at <code>src/tools/pgindent</code>. Earlier it was
written in C and has had a set of dependencies, the installation was tedious.
Now, it is rewritten in Perl and downloads all dependencies itself. The only
requirement is <code>pg_config</code> on <code>PATH</code>, to run it in such way use <code>--build</code>
option. The tool clones git repo <code>pg_bsd_indent</code>, downloads typedefs, indents
and then deletes repo. If the previous run was not successful, the repository
will stay in the <code>src/tools/pgindent/pg_bsd_indent</code> and will cause an error for
git clone command, just remove it. The other point it generates files for
typedefs, do not forget to delete them before commit. To indent single file
run:</p>
<div class="highlight"><pre><span></span>src/tools/pgindent/pgindent --build filename
</pre></div>


<p>To indent all files in current directory and subdirectories:</p>
<div class="highlight"><pre><span></span>src/tools/pgindent/pgindent --build
</pre></div>


<p>There are also pgperltidy for Perl.</p>
    </div><!-- /.entry-content -->
    <div class="comments">
      <h2>Comments !</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_shortname = 'alexey-chernyshovs-blog';
        var disqus_identifier = 'pgindent.html';
        var disqus_url = 'https://alexey-n-chernyshov.github.io/blog/pgindent.html';
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//alexey-chernyshovs-blog.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the comments.</noscript>
    </div>

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://alexey-n-chernyshov.github.io/">Alexey Chernyshov's personal page</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://alexey-n-chernyshov.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://github.com/Alexey-N-Chernyshov">My github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-101718081-1', 'auto');
    ga('send', 'pageview');
    </script>
<script type="text/javascript">
    var disqus_shortname = 'alexey-chernyshovs-blog';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>